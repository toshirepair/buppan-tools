<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>eBay Hot Items Checker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      max-width: 820px;
      margin: 0 auto;
      padding: 16px;
      line-height: 1.6;
    }
    h1 {
      font-size: 1.4rem;
      margin-bottom: 4px;
    }
    .sub {
      color: #555;
      font-size: 0.9rem;
      margin-bottom: 16px;
    }
    .card {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 16px;
      margin-bottom: 16px;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: 600;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      font-size: 1rem;
    }
    button {
      margin-top: 14px;
      padding: 10px;
      width: 100%;
      font-size: 1rem;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }
    .btn-primary {
      background: #0073e6;
      color: #fff;
    }
    .btn-secondary {
      background: #eee;
    }
    .result {
      font-size: 1.05rem;
      margin-top: 8px;
    }
    .hot { color: #d32f2f; font-weight: bold; }
    .warm { color: #f57c00; font-weight: bold; }
    .cold { color: #1976d2; font-weight: bold; }
    .small {
      font-size: 0.9rem;
      color: #555;
    }
  </style>
</head>

<body>

<h1>ğŸ”¥ eBay Hot Items Checker</h1>
<div class="sub">
  ä»Šã®éœ€è¦ Ã— ä¾›çµ¦ã§ã€Œç‹™ã„ç›®ã€ã‹ã‚’è¦‹æ¥µã‚ã‚‹ãƒ„ãƒ¼ãƒ«
</div>

<div class="card">
  <label>â‘  å‹ç•ª / ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</label>
  <input id="keyword" type="text" placeholder="ä¾‹ï¼šNikon FM2">

  <label>â‘¡ å£²ã‚Œç­‹ã ã¨æ€ã†ä¾¡æ ¼ï¼ˆä¸­å¿ƒå€¤ï¼‰</label>
  <input id="price" type="number" placeholder="ä¾‹ï¼š300">

  <label>â‘¢ ä¾¡æ ¼ãƒ¬ãƒ³ã‚¸ï¼ˆÂ±%ï¼‰</label>
  <select id="range">
    <option value="5">Â±5%</option>
    <option value="10" selected>Â±10%</option>
    <option value="15">Â±15%</option>
    <option value="20">Â±20%</option>
  </select>

  <label>â‘£ ãƒªã‚µãƒ¼ãƒæœŸé–“ï¼ˆæœˆï¼‰</label>
  <select id="months">
    <option value="1">1ã‹æœˆ</option>
    <option value="3" selected>3ã‹æœˆ</option>
    <option value="6">6ã‹æœˆ</option>
  </select>

  <button class="btn-primary" onclick="openEbaySearch()">eBay Product Research ã‚’é–‹ã</button>

  <div class="small">
    â€» å£²ã‚ŒãŸæ•°ãƒ»å‡ºå“æ•°ã¯ã€é–‹ã„ãŸç”»é¢ã‚’è¦‹ã¦ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„
  </div>
</div>

<div class="card">
  <label>â‘¤ æŒ‡å®šæœŸé–“ã§å£²ã‚ŒãŸæ•°ï¼ˆSoldï¼‰</label>
  <input id="sold" type="number" placeholder="ä¾‹ï¼š30">

  <label>â‘¥ ç¾åœ¨ã®å‡ºå“æ•°ï¼ˆActive listingsï¼‰</label>
  <input id="active" type="number" placeholder="ä¾‹ï¼š10">

  <button class="btn-secondary" onclick="calculate()">åˆ¤å®šã™ã‚‹</button>

  <div id="output"></div>
</div>

<script>
function openEbaySearch() {
  const keyword = document.getElementById("keyword").value.trim();
  const price = Number(document.getElementById("price").value);
  const range = Number(document.getElementById("range").value);
  const months = Number(document.getElementById("months").value);

  if (!keyword || !price) {
    alert("å‹ç•ªã¨ä¾¡æ ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
    return;
  }

  const minPrice = Math.floor(price * (1 - range / 100));
  const maxPrice = Math.ceil(price * (1 + range / 100));

  const url = `https://www.ebay.com/sch/i.html?_nkw=${encodeURIComponent(keyword)}&_sacat=0&LH_Sold=1&LH_Complete=1&_udlo=${minPrice}&_udhi=${maxPrice}`;

  window.open(url, "_blank");
}

function calculate() {
  const sold = Number(document.getElementById("sold").value);
  const active = Number(document.getElementById("active").value);
  const months = Number(document.getElementById("months").value);

  if (!sold || !months || active === "") {
    alert("Soldæ•°ãƒ»å‡ºå“æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
    return;
  }

  const monthlySales = sold / months;
  let absorption = active / monthlySales;
  absorption = isFinite(absorption) ? absorption : 0;

  let judge = "";
  let cls = "";

  if (absorption <= 1.5) {
    judge = "ğŸ”¥ HOTï¼šå›è»¢ãŒéå¸¸ã«è‰¯ã„ï¼ˆç‹™ã„ç›®ï¼‰";
    cls = "hot";
  } else if (absorption <= 4) {
    judge = "ğŸŒ¤ WARMï¼šæ¡ä»¶æ¬¡ç¬¬ã§OKï¼ˆä¾¡æ ¼ãƒ»çŠ¶æ…‹å‹è² ï¼‰";
    cls = "warm";
  } else {
    judge = "â„ COLDï¼šå¯ã‚‹å¯èƒ½æ€§ãŒé«˜ã„";
    cls = "cold";
  }

  document.getElementById("output").innerHTML = `
    <div class="result">
      æœˆé–“è²©å£²ãƒšãƒ¼ã‚¹ï¼š<b>${monthlySales.toFixed(2)}</b> å€‹ / æœˆ<br>
      å‡ºå“å¸åç›®å®‰ï¼š<b>${absorption.toFixed(1)}</b> ã‹æœˆ
    </div>
    <div class="result ${cls}">
      åˆ¤å®šï¼š${judge}
    </div>
  `;
}
</script>

</body>
</html>
